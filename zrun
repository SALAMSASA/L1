_get_ziplink () {
    local regex
    regex='(https?)://github.com/.+/.+'
    if [[ $UPSTREAM_REPO == "letonn" ]]; then
        echo "https://github.com/letonn/ZThon"
    elif [[ $UPSTREAM_REPO =~ $regex ]]; then
        echo "$UPSTREAM_REPO"
    else
        echo "https://github.com/letonn/ZThon"
    fi
}

_get_repolink() {
    echo "$(_get_ziplink)"
}

_run_git_clone() {
    local repolink=$(_get_repolink)
    echo "⌭ جاري تنزيل أكواد السورس من $repolink ⌭"
    git clone "$repolink" --branch "$UPSTREAM_REPO_BRANCH" --single-branch
}

_set_bot () {
    _run_git_clone
    cd "ZThon"  # تأكد من استبداله باسم الدليل المستنسخ
    echo "توجهت إلى الدليل: $(pwd)"
    python3 ../setup/updater.py ../requirements.txt requirements.txt
    chmod -R 755 bin
    echo "⌭ جاري بدء تنصيب ليثون ⌭"
    python3 -m zlzl
}

_set_bot
